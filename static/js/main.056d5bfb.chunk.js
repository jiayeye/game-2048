(this["webpackJsonpgame-2048"]=this["webpackJsonpgame-2048"]||[]).push([[0],{12:function(e,t,r){},13:function(e,t,r){},15:function(e,t,r){"use strict";r.r(t);var n=r(1),c=r.n(n),o=r(7),i=r.n(o),a=(r(12),r(13),r(3)),s=r(2),l=r(0);var u=function(e){return Object(l.jsx)("div",{className:"tile",style:{backgroundColor:{0:"#ffff99",1:"#ffff33",2:"#ffad33",4:"#d86400",8:"#de4000"}[Math.floor(e.value%15)]},children:e.value>0?e.value:""})};var j=function(e){var t=e.score,r=e.highscore;return Object(l.jsxs)("div",{className:"score",children:[Object(l.jsx)("div",{style:{float:"left"},children:Object(l.jsxs)("h3",{children:["Score: ",t]})}),Object(l.jsx)("div",{style:{float:"right"},children:Object(l.jsxs)("h3",{children:["Highscore: ",r]})})]})};var f=function(e){return Object(l.jsx)("button",{onClick:e.clickHandler,children:"Restart"})};function h(){return m(Array(4).fill(Array(4).fill(0)),2)}function d(e,t){return 0!==e&&0===t?1:0===e&&0!==t?-1:0}function b(e){return e[0].map((function(t,r){return e.map((function(e){return e[r]}))}))}function v(e,t){var r=1,n=0;"ArrowRight"!==t&&"ArrowDown"!==t||(e.reverse(),r=-1);for(var c=0;c<e.length;c++)if(e[c]===e[c+r]&&e[c]>0){var o=e[c]+e[c+r];e[c]=o,e[c+r]=0,n+=o}return"ArrowRight"!==t&&"ArrowDown"!==t||e.reverse(),[e,n]}function O(e){var t=[];return e.forEach((function(e,r){0===e&&t.push(r)})),t}function g(e){var t,r=[];for(t=0;t<e.length;t+=4)r.push(e.slice(t,t+4));return r}function w(e){return e[Math.floor(Math.random()*e.length)]}function m(e){for(var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=(t=[]).concat.apply(t,Object(a.a)(e)),c=0;c<r;c++){var o=O(n),i=w(o),s=w([2,4]);n[i]=s}return e=g(n)}function x(e){var t=e.status;return Object(l.jsx)("div",{className:"gameOver",children:Object(l.jsx)("h1",{children:"won"===t?"youHaveWonOU WON!":"GAME OVER"})})}var y=function(e){var t=Object(n.useState)(h()),r=Object(s.a)(t,2),c=r[0],o=r[1],i=Object(n.useState)(0),g=Object(s.a)(i,2),w=g[0],y=g[1],p=Object(n.useState)(!1),A=Object(s.a)(p,2),k=A[0],N=A[1],C=Object(n.useState)((function(){return localStorage.getItem("2048_highscore")||0})),D=Object(s.a)(C,2),E=D[0],S=D[1];function H(e){y(w+e)}function R(e){var t,r=(t=[]).concat.apply(t,Object(a.a)(c)),n=[],i=0;switch(e.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":var l=function(e,t,r){var n=[],c=0,o=0;return"ArrowUp"!==t&&"ArrowDown"!==t||(e=b(e)),"ArrowRight"===t||"ArrowDown"===t?e=e.map((function(e){e.sort(d);var t=v(e,"ArrowRight"),r=Object(s.a)(t,2);return n=r[0],c=r[1],o+=c,n.sort(d),n})):"ArrowLeft"!==t&&"ArrowUp"!==t||(e=e.map((function(e){e.reverse(),e.sort(d);var t=v(e,"ArrowLeft"),r=Object(s.a)(t,2);return n=r[0],c=r[1],o+=c,n.sort(d),n.reverse(),n}))),"ArrowUp"!==t&&"ArrowDown"!==t||(e=b(e)),[e,o]}(c,e.key),u=Object(s.a)(l,2);n=u[0],i=u[1];break;default:return}var j=r.every((function(e,t){var r;return e===(r=[]).concat.apply(r,Object(a.a)(n))[t]}));n=j?n:m(n),H(i),o(Object(a.a)(n))}return Object(n.useEffect)((function(){return!1===k&&document.addEventListener("keydown",R),function(){document.removeEventListener("keydown",R)}})),Object(n.useEffect)((function(){!function(e){var t,r=(t=[]).concat.apply(t,Object(a.a)(e));O(r).length<1&&N("lost");r.includes(2048)&&N("won")}(c),S(w>E?w:E)}),[c]),Object(n.useEffect)((function(){localStorage.setItem("2048_highscore",E)}),[E]),Object(l.jsxs)("div",{className:"container",children:[Object(l.jsx)(j,{score:w,highscore:E}),Object(l.jsxs)("div",{className:"board",children:[!1!==k?Object(l.jsx)(x,{status:k}):null,Object(l.jsx)("table",{className:"table",children:Object(l.jsx)("tbody",{children:c.map((function(e,t){return function(e,t){return Object(l.jsx)("tr",{className:"row",children:e.map((function(e,t){return Object(l.jsx)("td",{children:Object(l.jsx)(u,{value:e})},t.toString())}))},t)}(e,t)}))})})]}),Object(l.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(l.jsx)("div",{className:"up",style:{height:"3rem",width:"50%",backgroundColor:"red",textAlign:"center",lineHeight:"3rem"},onClick:function(){R({key:"ArrowUp"})},children:"up"}),Object(l.jsx)("div",{style:{height:"1rem"}}),Object(l.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center"},children:[Object(l.jsx)("div",{className:"left",style:{height:"3rem",width:"10rem",backgroundColor:"green",textAlign:"center",lineHeight:"3rem"},onClick:function(){R({key:"ArrowLeft"})},children:"left"}),Object(l.jsx)("div",{style:{width:"3rem"}}),Object(l.jsx)("div",{className:"right",style:{height:"3rem",width:"10rem",backgroundColor:"yellow",textAlign:"center",lineHeight:"3rem"},onClick:function(){R({key:"ArrowRight"})},children:"right"})]}),Object(l.jsx)("div",{style:{height:"1rem"}}),Object(l.jsx)("div",{className:"down",style:{height:"3rem",width:"50%",backgroundColor:"red",textAlign:"center",lineHeight:"3rem"},onClick:function(){R({key:"ArrowDown"})},children:"down"})]}),!1!==k?Object(l.jsx)(f,{clickHandler:function(){N(!1),y(0),o(h())}}):null]})};var p=function(){return Object(l.jsx)("div",{className:"App",children:Object(l.jsx)(y,{})})};i.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(p,{})}),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.056d5bfb.chunk.js.map