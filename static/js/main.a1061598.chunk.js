(this["webpackJsonpgame-2048"]=this["webpackJsonpgame-2048"]||[]).push([[0],{12:function(e,t,r){},13:function(e,t,r){},15:function(e,t,r){"use strict";r.r(t);var n=r(1),c=r.n(n),o=r(7),a=r.n(o),s=(r(12),r(13),r(3)),i=r(2),u=r(0);var l=function(e){return Object(u.jsx)("div",{className:"tile",style:{backgroundColor:{0:"#ffff99",1:"#ffff33",2:"#ffad33",4:"#d86400",8:"#de4000"}[Math.floor(e.value%15)]},children:e.value>0?e.value:""})};var f=function(e){var t=e.score,r=e.highscore;return Object(u.jsxs)("div",{className:"score",children:[Object(u.jsx)("div",{style:{float:"left"},children:Object(u.jsxs)("h3",{children:["Score: ",t]})}),Object(u.jsx)("div",{style:{float:"right"},children:Object(u.jsxs)("h3",{children:["Highscore: ",r]})})]})};var j=function(e){return Object(u.jsx)("button",{onClick:e.clickHandler,children:"Restart"})};function b(){return g(Array(4).fill(Array(4).fill(0)),2)}function h(e,t){return 0!==e&&0===t?1:0===e&&0!==t?-1:0}function d(e){return e[0].map((function(t,r){return e.map((function(e){return e[r]}))}))}function v(e,t){var r=1,n=0;"ArrowRight"!==t&&"ArrowDown"!==t||(e.reverse(),r=-1);for(var c=0;c<e.length;c++)if(e[c]===e[c+r]&&e[c]>0){var o=e[c]+e[c+r];e[c]=o,e[c+r]=0,n+=o}return"ArrowRight"!==t&&"ArrowDown"!==t||e.reverse(),[e,n]}function O(e){var t=[];return e.forEach((function(e,r){0===e&&t.push(r)})),t}function w(e){var t,r=[];for(t=0;t<e.length;t+=4)r.push(e.slice(t,t+4));return r}function p(e){return e[Math.floor(Math.random()*e.length)]}function g(e){for(var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=(t=[]).concat.apply(t,Object(s.a)(e)),c=0;c<r;c++){var o=O(n),a=p(o),i=p([2,4]);n[a]=i}return e=w(n)}function m(e){var t=e.status;return Object(u.jsx)("div",{className:"gameOver",children:Object(u.jsx)("h1",{children:"won"===t?"youHaveWonOU WON!":"GAME OVER"})})}var x=function(e){var t=Object(n.useState)(b()),r=Object(i.a)(t,2),c=r[0],o=r[1],a=Object(n.useState)(0),w=Object(i.a)(a,2),p=w[0],x=w[1],A=Object(n.useState)(!1),y=Object(i.a)(A,2),k=y[0],E=y[1],N=Object(n.useState)((function(){return localStorage.getItem("2048_highscore")||0})),S=Object(i.a)(N,2),R=S[0],D=S[1];function L(e){x(p+e)}function M(e){var t,r=(t=[]).concat.apply(t,Object(s.a)(c)),n=[],a=0;switch(e.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":var u=function(e,t,r){var n=[],c=0,o=0;return"ArrowUp"!==t&&"ArrowDown"!==t||(e=d(e)),"ArrowRight"===t||"ArrowDown"===t?e=e.map((function(e){e.sort(h);var t=v(e,"ArrowRight"),r=Object(i.a)(t,2);return n=r[0],c=r[1],o+=c,n.sort(h),n})):"ArrowLeft"!==t&&"ArrowUp"!==t||(e=e.map((function(e){e.reverse(),e.sort(h);var t=v(e,"ArrowLeft"),r=Object(i.a)(t,2);return n=r[0],c=r[1],o+=c,n.sort(h),n.reverse(),n}))),"ArrowUp"!==t&&"ArrowDown"!==t||(e=d(e)),[e,o]}(c,e.key),l=Object(i.a)(u,2);n=l[0],a=l[1];break;default:return}var f=r.every((function(e,t){var r;return e===(r=[]).concat.apply(r,Object(s.a)(n))[t]}));n=f?n:g(n),L(a),o(Object(s.a)(n))}return Object(n.useEffect)((function(){return!1===k&&document.addEventListener("keydown",M),function(){document.removeEventListener("keydown",M)}})),Object(n.useEffect)((function(){!function(e){var t,r=(t=[]).concat.apply(t,Object(s.a)(e));O(r).length<1&&E("lost");r.includes(2048)&&E("won")}(c),D(p>R?p:R)}),[c]),Object(n.useEffect)((function(){localStorage.setItem("2048_highscore",R)}),[R]),Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)(f,{score:p,highscore:R}),Object(u.jsxs)("div",{className:"board",children:[!1!==k?Object(u.jsx)(m,{status:k}):null,Object(u.jsx)("table",{className:"table",children:Object(u.jsx)("tbody",{children:c.map((function(e,t){return function(e,t){return Object(u.jsx)("tr",{className:"row",children:e.map((function(e,t){return Object(u.jsx)("td",{children:Object(u.jsx)(l,{value:e})},t.toString())}))},t)}(e,t)}))})})]}),!1!==k?Object(u.jsx)(j,{clickHandler:function(){E(!1),x(0),o(b())}}):null]})};var A=function(){return Object(u.jsx)("div",{className:"App",children:Object(u.jsx)(x,{})})};a.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(A,{})}),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.a1061598.chunk.js.map